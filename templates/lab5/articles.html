<!-- templates/lab5/articles.html -->
{% extends "base.html" %}

{% block lab %}Лабораторная работа 5{% endblock %}

{% block main %}
<h1 class="page-title">Мои статьи</h1>

{% if not articles %}
  <div class="card">
      <div class="muted" style="text-align:center;">
          У вас пока нет ни одной статьи.
      </div>
      <div class="form__actions" style="justify-content:center; margin-top: 12px;">
          <a class="btn" href="{{ url_for('lab5.create') }}">Создать первую статью</a>
          <a class="btn btn--secondary" href="{{ url_for('lab5.lab') }}">Назад</a>
      </div>
  </div>
{% else %}
  {% for article in articles %}
    <div class="card">
        <h2 class="card__title">{{ article['title'] }}</h2>

        <blockquote class="article-text">{{ article['article_text'] }}</blockquote>

        <div class="card__actions">
            <a class="btn" href="{{ url_for('lab5.edit_article', article_id=article['id']) }}">
                Редактировать
            </a>

            <a class="btn btn--danger"
               href="{{ url_for('lab5.delete_article', article_id=article['id']) }}"
               onclick="return confirm('Удалить статью?')">
                Удалить
            </a>
        </div>
    </div>
  {% endfor %}
{% endif %}

{% endblock %}
